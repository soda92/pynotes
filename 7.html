<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>笔记7</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_笔记7">笔记7</h2>
<div class="sectionbody">
<div class="paragraph">
<p>今日内容</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_一正则表达式">一、正则表达式</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_正则表达式的概述">1.正则表达式的概述</h3>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>能够知道正则表达式的作用</p>
</li>
</ul>
</div>
<hr>
<div class="sect3">
<h4 id="_1_1_正则表达式的介绍">1.1 正则表达式的介绍</h4>
<div class="paragraph">
<p>在实际开发过程中经常会有查找符合某些复杂规则的字符串的需要，比如:邮箱、图片地址、手机号码等，这时候想匹配或者查找符合某些规则的字符串就可以使用正则表达式了。</p>
</div>
</div>
<div class="sect3">
<h4 id="_1_2_正则表达式概念">1.2. 正则表达式概念</h4>
<div class="paragraph">
<p><strong>正则表达式就是记录文本规则的代码</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_1_3_正则表达式的样子">1.3. 正则表达式的样子</h4>
<div class="paragraph">
<p>0- 这个就是一个正则表达式，表达的意思是匹配的是座机号码</p>
</div>
</div>
<div class="sect3">
<h4 id="_1_4_正则表达式的特点">1.4. 正则表达式的特点</h4>
<div class="ulist">
<ul>
<li>
<p>正则表达式的语法很令人头疼，可读性差</p>
</li>
<li>
<p>正则表达式通用性很强，能够适用于很多编程语言</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_python中正则表达式的应用">2.Python中正则表达式的应用</h3>
<div class="sect3">
<h4 id="_2_1_re模块介绍">2.1 re模块介绍</h4>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>能够知道在python中使用正则表达式需要导入的模块</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_2_1_1_re模块的介绍">2.1.1. re模块的介绍</h4>
<div class="paragraph">
<p>在Python中需要通过正则表达式对字符串进行匹配的时候，可以使用一个 re 模块</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># 导入re模块
import re

# 使用match方法进行匹配操作
result = re.match(正则表达式,要匹配的字符串)

# 如果上一步匹配到数据的话，可以使用group方法来提取数据
result.group()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_1_2_re模块的使用">2.1.2. re模块的使用</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">import re


# 使用match方法进行匹配操作
result = re.match("easthome","easthome.com")
# 获取匹配结果
info = result.group()
print(info)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>运行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">easthome</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_1_3_小结">2.1.3. 小结</h4>
<div class="ulist">
<ul>
<li>
<p>re.match() 根据正则表达式从头开始匹配字符串数据</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_2_2_匹配单个字符">2.2 匹配单个字符</h4>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>能够使用re模块匹配单个字符</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_2_2_1_匹配单个字符">2.2.1. 匹配单个字符</h4>
<div class="paragraph">
<p>在上一小节中，了解到通过re模块能够完成使用正则表达式来匹配字符串</p>
</div>
<div class="paragraph">
<p>本小节，将要讲解正则表达式的单字符匹配</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">代码</th>
<th class="tableblock halign-left valign-top">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配任意1个字符（除了）</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">[ ]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配[ ]中列举的字符</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">匹配整数数字，即0-9</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配非数字，即不是数字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配空白，即 空格，tab键</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配非空白</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配非特殊字符，即a-z、A-Z、0-9、_、汉字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配特殊字符，即非字母、非数字、非汉字</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_示例1">示例1： .</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

ret = re.match(".","M")
print(ret.group())

ret = re.match("t.o","too")
print(ret.group())

ret = re.match("t.o","two")
print(ret.group())</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">M
too
two</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_示例2">示例2：[]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

# 如果hello的首字符小写，那么正则表达式需要小写的h
ret = re.match("h","hello Python")
print(ret.group())


# 如果hello的首字符大写，那么正则表达式需要大写的H
ret = re.match("H","Hello Python")
print(ret.group())

# 大小写h都可以的情况
ret = re.match("[hH]","hello Python")
print(ret.group())
ret = re.match("[hH]","Hello Python")
print(ret.group())
ret = re.match("[hH]ello Python","Hello Python")
print(ret.group())

# 匹配0到9第一种写法
ret = re.match("[0123456789]Hello Python","7Hello Python")
print(ret.group())

# 匹配0到9第二种写法
ret = re.match("[0-9]Hello Python","7Hello Python")
print(ret.group())

ret = re.match("[0-35-9]Hello Python","7Hello Python")
print(ret.group())

# 下面这个正则不能够匹配到数字4，因此ret为None
ret = re.match("[0-35-9]Hello Python","4Hello Python")
# print(ret.group())</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">h
H
h
H
Hello Python
7Hello Python
7Hello Python
7Hello Python</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_示例3python">示例3：``python</h4>
<div class="paragraph">
<p>import re</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_普通的匹配方式">普通的匹配方式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ret = re.match(<code>嫦娥1号'',</code>嫦娥1号发射成功'') print(ret.group())</p>
</div>
<div class="paragraph">
<p>ret = re.match(<code>嫦娥2号'',</code>嫦娥2号发射成功'') print(ret.group())</p>
</div>
<div class="paragraph">
<p>ret = re.match(<code>嫦娥3号'',</code>嫦娥3号发射成功'') print(ret.group())</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_使用">使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ret = re.match(<code>嫦娥'',</code>嫦娥1号发射成功'') print(ret.group())</p>
</div>
<div class="paragraph">
<p>ret = re.match(<code>嫦娥'',</code>嫦娥2号发射成功'') print(ret.group())</p>
</div>
<div class="paragraph">
<p>ret = re.match(<code>嫦娥'',</code>嫦娥3号发射成功'') print(ret.group())</p>
</div>
<div class="literalblock">
<div class="content">
<pre>运行结果：

```python
嫦娥1号
嫦娥2号
嫦娥3号
嫦娥1号
嫦娥2号
嫦娥3号</pre>
</div>
</div>
<div class="sect2">
<h3 id="_示例4">示例4：</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

match_obj = re.match("\D", "f")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">f</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例5">示例5：</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

# 空格属于空白字符
match_obj = re.match("hello\sworld", "hello world")
if match_obj:
    result = match_obj.group()
    print(result)
else:
    print("匹配失败")



# \t 属于空白字符
match_obj = re.match("hello\sworld", "hello\tworld")
if match_obj:
    result = match_obj.group()
    print(result)
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">hello world
hello world</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例6">示例6：</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

match_obj = re.match("hello\Sworld", "hello&amp;world")
if match_obj:
result = match_obj.group()
print(result)
else:
print("匹配失败")



match_obj = re.match("hello\Sworld", "hello$world")
if match_obj:
result = match_obj.group()
print(result)
else:
print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">hello&amp;world
hello$world</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例7">示例7：</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

# 匹配非特殊字符中的一位
match_obj = re.match("\w", "A")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行结果:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例8">示例8：</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># 匹配特殊字符中的一位
match_obj = re.match("\W", "&amp;")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行结果:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&amp;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_2_2小结">2.2.2小结</h3>
<div class="ulist">
<ul>
<li>
<p>. 表示匹配任意1个字符（除了）</p>
</li>
<li>
<p>☐ 表示匹配[ ]中列举的1个字符</p>
</li>
<li>
<p>，即0-9</p>
</li>
<li>
<p>表示匹配一个非数字，即不是数字</p>
</li>
<li>
<p>表示匹配一个空白字符，即 空格，tab键</p>
</li>
<li>
<p>| 匹配一个非空白字符</p>
</li>
<li>
<p>| 匹配一个非特殊字符，即a-z、A-Z、0-9、_、汉字</p>
</li>
<li>
<p>| 匹配一个特殊字符，即非字母、非数字、非汉字</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_3_匹配多个字符">2.3 匹配多个字符</h3>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>能够使用re模块匹配多个字符</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_2_3_1_匹配多个字符">2.3.1. 匹配多个字符</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">代码</th>
<th class="tableblock halign-left valign-top">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配前一个字符出现0次或者无限次，即可有可无</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配前一个字符出现1次或者无限次，即至少有1次</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配前一个字符出现1次或者0次，即要么有1次，要么没有</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">{m}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配前一个字符出现m次</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{m,n}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配前一个字符出现从m到n次</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_示例1_2">示例1：*</h3>
<div class="paragraph">
<p>需求：匹配出一个字符串第一个字母为大小字符，后面都是小写字母并且这些小写字母可
有可无</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

ret = re.match("[A-Z][a-z]*","M")
print(ret.group())

ret = re.match("[A-Z][a-z]*","MnnM")
print(ret.group())

ret = re.match("[A-Z][a-z]*","Aabcdef")
print(ret.group())</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">M
Mnn
Aabcdef</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例2_2">示例2：+</h3>
<div class="paragraph">
<p>需求：匹配一个字符串，第一个字符是t,最后一个字符串是o,中间至少有一个字符</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re


match_obj = re.match("t.+o", "two")
if match_obj:
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">two</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例3">示例3：?</h3>
<div class="paragraph">
<p>需求：匹配出这样的数据，但是https 这个s可能有，也可能是http 这个s没有</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

match_obj = re.match("https?", "http")
if match_obj:
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">https</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例4mmn">示例4：{m}、\{m,n}</h3>
<div class="paragraph">
<p>需求：匹配出，8到20位的密码，可以是大小写英文字母、数字、下划线</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re


ret = re.match("[a-zA-Z0-9_]{6}","12a3g45678")
print(ret.group())

ret = re.match("[a-zA-Z0-9_]{8,20}","1ad12f23s34455ff66")
print(ret.group())</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">12a3g4
1ad12f23s34455ff66</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_3_2_小结">2.3.2. 小结</h3>
<div class="ulist">
<ul>
<li>
<p>*表示匹配前一个字符出现0次或者无限次，即可有可无</p>
</li>
<li>
<p>+表示匹配前一个字符出现1次或者无限次，即至少有1次</p>
</li>
<li>
<p>?表示匹配前一个字符出现1次或者0次，即要么有1次，要么没有</p>
</li>
<li>
<p>{m}表示匹配前一个字符出现m次</p>
</li>
<li>
<p>\{m,n}表示匹配前一个字符出现从m到n次</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_4_匹配开头和结尾">2.4 匹配开头和结尾</h3>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>能够使用re模块匹配指定字符串开头或者结尾</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_2_4_1_匹配开头和结尾">2.4.1. 匹配开头和结尾</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">代码</th>
<th class="tableblock halign-left valign-top">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">^</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配字符串开头</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">匹配字符串结尾</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_示例1_3">示例1：^</h3>
<div class="paragraph">
<p>需求：匹配以数字开头的数据</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

# 匹配以数字开头的数据
match_obj = re.match("^\d.*", "3hello")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">3hello</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例2_3">示例2：$</h3>
<div class="paragraph">
<p>需求: 匹配以数字结尾的数据</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re
# 匹配以数字结尾的数据
match_obj = re.match(".*\d$", "hello5")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">hello5</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例3_和">示例3：^ 和 $</h3>
<div class="paragraph">
<p>需求: 匹配以数字开头中间内容不管以数字结尾</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">match_obj = re.match("^\d.*\d$", "4hello4")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">4hello4</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_4_2_除了指定字符以外都匹配">2.4.2.除了指定字符以外都匹配</h3>
<div class="paragraph">
<p>需求: 第一个字符除了aeiou的字符都匹配</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re


match_obj = re.match("[^aeiou]", "h")
if match_obj:
    # 获取匹配结果
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行结果</p>
</div>
<div class="literalblock">
<div class="content">
<pre>h</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_4_3_小结">2.4.3. 小结</h3>
<div class="ulist">
<ul>
<li>
<p>^ 表示匹配字符串开头</p>
</li>
<li>
<p>$ 表示匹配字符串结尾</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_4_4_课堂练习">2.4.4. 课堂练习</h3>
<div class="ulist">
<ul>
<li>
<p>1.匹配出163的邮箱地址，且@符号之前有4到20位，<a href="mailto:例如hello@163.com">例如hello@163.com</a></p>
</li>
<li>
<p>2.匹配出11位手机号码</p>
</li>
<li>
<p>3.匹配出微博中的话题, 比如: <mark>幸福是奋斗出来的</mark></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_5_匹配分组">2.5 匹配分组</h3>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>能够使用re模块提取分组数据</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_2_5_1_匹配分组相关正则表达式">2.5.1. 匹配分组相关正则表达式</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">代码</th>
<th class="tableblock halign-left valign-top">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">匹配左右任意一个表达式</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(ab)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">将括号中字符作为一个分组</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\num</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">引用分组num匹配到的字符串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(?P)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">分组起别名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(?P=name)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_示例1_4">示例1：|</h3>
<div class="paragraph">
<p>需求：在列表中[<code>apple'', </code>banana'', <code>orange'',
</code>pear'']，匹配apple和pear</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

# 水果列表
fruit_list = ["apple", "banana", "orange", "pear"]

# 遍历数据
for value in fruit_list:
    # |    匹配左右任意一个表达式
    match_obj = re.match("apple|pear", value)
    if match_obj:
        print("%s是我想要的" % match_obj.group())
    else:
        print("%s不是我要的" % value)</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行结果:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">apple是我想要的
banana不是我要的
orange不是我要的
pear是我想要的</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例2_4">示例2：( )</h3>
<div class="paragraph">
<p>需求：匹配出163、126、qq等邮箱</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

match_obj = re.match("[a-zA-Z0-9_]{4,20}@(163|126|qq|sina|yahoo)\.com", "hello@163.com")
if match_obj:
    print(match_obj.group())
    # 获取分组数据
    print(match_obj.group(1))
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行结果:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>hello@163.com
163</pre>
</div>
</div>
<div class="paragraph">
<p>需求: 匹配qq:10567这样的数据，提取出来qq文字和qq号码</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import re

match_obj = re.match("(qq):([1-9]\d{4,10})", "qq:10567")

if match_obj:
    print(match_obj.group())
    # 分组:默认是1一个分组，多个分组从左到右依次加1
    print(match_obj.group(1))
    # 提取第二个分组数据
    print(match_obj.group(2))
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行结果:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>qq
10567</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例3num">示例3：\num</h3>
<div class="paragraph">
<p>需求：匹配出`hh`</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">match_obj = re.match("&lt;[a-zA-Z1-6]+&gt;.*&lt;/[a-zA-Z1-6]+&gt;", "&lt;html&gt;hh&lt;/div&gt;")

if match_obj:
    print(match_obj.group())
else:
    print("匹配失败")

match_obj = re.match("&lt;([a-zA-Z1-6]+)&gt;.*&lt;/\\1&gt;", "&lt;html&gt;hh&lt;/html&gt;")

if match_obj:
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;html&gt;hh&lt;/div&gt;
&lt;html&gt;hh&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>需求：匹配出`www.easthome.cn`</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">match_obj = re.match("&lt;([a-zA-Z1-6]+)&gt;&lt;([a-zA-Z1-6]+)&gt;.*&lt;/\\2&gt;&lt;/\\1&gt;", "&lt;html&gt;&lt;h1&gt;www.easthome.cn&lt;/h1&gt;&lt;/html&gt;")

if match_obj:
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;html&gt;&lt;h1&gt;www.easthome.cn&lt;/h1&gt;&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_示例4p_pname">示例4：<code>(?P)</code> <code>(?P=name)</code></h3>
<div class="paragraph">
<p>需求：匹配出`www.easthome.cn`</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">match_obj = re.match("&lt;(?P&lt;name1&gt;[a-zA-Z1-6]+)&gt;&lt;(?P&lt;name2&gt;[a-zA-Z1-6]+)&gt;.*&lt;/(?P=name2)&gt;&lt;/(?P=name1)&gt;", "&lt;html&gt;&lt;h1&gt;www.easthome.cn&lt;/h1&gt;&lt;/html&gt;")

if match_obj:
    print(match_obj.group())
else:
    print("匹配失败")</code></pre>
</div>
</div>
<div class="paragraph">
<p>运行结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;html&gt;&lt;h1&gt;www.easthome.cn&lt;/h1&gt;&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_5_2_小结">2.5.2. 小结</h3>
<div class="ulist">
<ul>
<li>
<p></p>
<div class="verseblock">
<pre class="content">表示匹配左右任意一个表达式</pre>
</div>
</li>
<li>
<p>(ab) 表示将括号中字符作为一个分组</p>
</li>
<li>
<p><code>\num</code> 表示引用分组num匹配到的字符串</p>
</li>
<li>
<p><code>(?P)</code> 表示分组起别名</p>
</li>
<li>
<p>(?P=name) 表示引用别名为name分组匹配到的字符串</p>
</li>
<li>
<p>(分组数据)：分组数是从左到右的方式进行分配的，最左边的是第一个分组，依次类推</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_5_小结">5. 小结</h3>
<div class="ulist">
<ul>
<li>
<p>正则表达式是匹配符合某些规则的字符串数据</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_三多任务编程">三、多任务编程</h3>
<div class="paragraph">
<p><strong>学习目标</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>进程</p>
</li>
<li>
<p>线程</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_1_课前内容">1.课前内容</h3>
<div class="sect3">
<h4 id="_1_1_提问">1.1 提问</h4>
<div class="paragraph">
<p><strong>利用现学知识能够让两个函数或者方法同时执行吗?</strong></p>
</div>
<div class="paragraph">
<p>不能，因为之前所写的程序都是<strong>单任务的</strong>，也就是说一个函数或者方法执行完成另外一个函数或者方法才能执行，要想实现这种操作就需要使用<strong>多任务</strong>。
多任务的最大好处是<strong>充分利用CPU资源，提高程序的执行效率</strong>。</p>
</div>
</div>
<div class="sect3">
<h4 id="_1_2多任务的概念">1.2多任务的概念</h4>
<div class="paragraph">
<p>多任务是指在<strong>同一时间内</strong>执行<strong>多个任务</strong>，例如:
现在电脑安装的操作系统都是多任务操作系统，可以同时运行着多个软件。</p>
</div>
<div class="paragraph">
<p><strong>多任务效果图:</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_1_3_多任务的执行方式">1.3 多任务的执行方式</h4>
<div class="ulist">
<ul>
<li>
<p>并发</p>
</li>
<li>
<p>并行</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>并发:</strong></p>
</div>
<div class="paragraph">
<p>在一段时间内<strong>交替</strong>去执行任务。</p>
</div>
<div class="paragraph">
<p><strong>例如:</strong></p>
</div>
<div class="paragraph">
<p>对于单核cpu处理多任务,操作系统轮流<strong>让各个软件交替执行</strong>，假如:软件1执行0.01秒，切换到软件2，软件2执行0.01秒，再切换到软件3，执行0.01秒……这样反复执行下去。表面上看，每个软件都是交替执行的，但是，由于CPU的执行速度实在是太快了，我们感觉就像这些软件都在同时执行一样，这里需要注意单核cpu是并发的执行多任务的。</p>
</div>
<div class="paragraph">
<p><strong>并行:</strong></p>
</div>
<div class="paragraph">
<p>对于多核cpu处理多任务，操作系统会给cpu的每个内核安排一个执行的软件，<strong>多个内核是真正的一起执行软件</strong>。这里需要注意*多核cpu是并行的执行多任务，始终有多个软件一起执行*。</p>
</div>
</div>
<div class="sect3">
<h4 id="_1_4_小结">1.4 小结</h4>
<div class="ulist">
<ul>
<li>
<p>使用多任务就能充分利用CPU资源，提高程序的执行效率，让你的程序具备处理多个任务的能力。</p>
</li>
<li>
<p>多任务执行方式有两种方式：<strong>并发</strong>和*并行*，这里并行才是多个任务真正意义一起执行。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_进程">2.进程</h3>
<div class="sect3">
<h4 id="_2_1_进程的介绍">2.1 进程的介绍</h4>
<div class="paragraph">
<p>在Python程序中，想要实现多任务可以使用进程来完成，进程是实现多任务的一种方式。</p>
</div>
</div>
<div class="sect3">
<h4 id="_2_2进程的概念">2.2进程的概念</h4>
<div class="paragraph">
<p>一个正在运行的程序或者软件就是一个进程，<strong>它是操作系统进行资源分配的基本单位</strong>，也就是说每启动一个进程，操作系统都会给其分配一定的运行资源(内存资源)保证进程的运行。</p>
</div>
<div class="paragraph">
<p>比如:现实生活中的公司可以理解成是一个进程，公司提供办公资源(电脑、办公桌椅等)，真正干活的是员工，员工可以理解成线程。</p>
</div>
<div class="paragraph">
<p><strong>注意:</strong></p>
</div>
<div class="paragraph">
<p><strong>一个程序运行后至少有一个进程，一个进程默认有一个线程</strong>，进程里面可以创建多个线程，<strong>线程是依附在进程里面的，没有进程就没有线程</strong>。</p>
</div>
</div>
<div class="sect3">
<h4 id="_2_3_进程的作用">2.3 进程的作用</h4>
<div class="paragraph">
<p>多进程可以完成多任务，每个进程就好比一家独立的公司，每个公司都各自在运营，每个进程也各自在运行，执行各自的任务。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>进程是操作系统进行资源分配的基本单位。</p>
</li>
<li>
<p>进程是Python程序中实现多任务的一种方式</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_2_4_python中多进程的使用">2.4 Python中多进程的使用</h4>
<div class="sect4">
<h5 id="_2_4_1_导入进程包">2.4.1 导入进程包</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">#导入进程包
import multiprocessing</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_4_2_process进程类的说明">2.4.2. Process进程类的说明</h5>
<div class="paragraph">
<p><strong>Process([group [, target [, name [, args [, kwargs]]]]])</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>group：指定进程组，目前只能使用None</p>
</li>
<li>
<p>target：执行的目标任务名</p>
</li>
<li>
<p>name：进程名字</p>
</li>
<li>
<p>args：以元组方式给执行任务传参</p>
</li>
<li>
<p>kwargs：以字典方式给执行任务传参</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Process创建的实例对象的常用方法:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start()：启动子进程实例（创建子进程）</p>
</li>
<li>
<p>join()：等待子进程执行结束</p>
</li>
<li>
<p>terminate()：不管任务是否完成，立即终止子进程</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Process创建的实例对象的常用属性:</strong></p>
</div>
<div class="paragraph">
<p>name：当前进程的别名，默认为Process-N，N为从1开始递增的整数</p>
</div>
</div>
<div class="sect4">
<h5 id="_2_4_3_多进程完成多任务的代码">2.4.3 多进程完成多任务的代码</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time


# 跳舞任务
def dance():
    for i in range(5):
        print("跳舞中...")
        time.sleep(0.2)


# 唱歌任务
def sing():
    for i in range(5):
        print("唱歌中...")
        time.sleep(0.2)

if __name__ == '__main__':
    # 创建跳舞的子进程
    # group: 表示进程组，目前只能使用None
    # target: 表示执行的目标任务名(函数名、方法名)
    # name: 进程名称, 默认是Process-1, .....
    dance_process = multiprocessing.Process(target=dance, name="myprocess1")
    sing_process = multiprocessing.Process(target=sing)

    # 启动子进程执行对应的任务
    dance_process.start()
    sing_process.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">唱歌中...
跳舞中...
唱歌中...
跳舞中...
唱歌中...
跳舞中...
唱歌中...
跳舞中...
唱歌中...
跳舞中...</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_4_4_小结">2.4.4 小结</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>导入进程包</p>
<div class="ulist">
<ul>
<li>
<p>import multiprocessing</p>
</li>
</ul>
</div>
</li>
<li>
<p>创建子进程并指定执行的任务</p>
<div class="ulist">
<ul>
<li>
<p>sub_process = multiprocessing.Process (target=任务名)</p>
</li>
</ul>
</div>
</li>
<li>
<p>启动进程执行任务</p>
<div class="ulist">
<ul>
<li>
<p>sub_process.start()</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_5_获取进程的编号">2.5 获取进程的编号</h4>
<div class="sect4">
<h5 id="_2_5_1_获取进程编号的目的">2.5.1. 获取进程编号的目的</h5>
<div class="paragraph">
<p><strong>获取进程编号的目的是验证主进程和子进程的关系，可以得知子进程是由那个主进程创建出来的。</strong></p>
</div>
<div class="paragraph">
<p>获取进程编号的两种操作</p>
</div>
<div class="ulist">
<ul>
<li>
<p>获取当前进程编号</p>
</li>
<li>
<p>获取当前父进程编号</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_5_2_获取当前进程编号">2.5.2. 获取当前进程编号</h5>
<div class="paragraph">
<p><strong>os.getpid()</strong> 表示获取当前进程编号</p>
</div>
<div class="paragraph">
<p><strong>示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time
import os


# 跳舞任务
def dance():
    # 获取当前进程的编号
    print("dance:", os.getpid())
    # 获取当前进程
    print("dance:", multiprocessing.current_process())
    for i in range(5):
        print("跳舞中...")
        time.sleep(0.2)
        # 扩展:根据进程编号杀死指定进程
        os.kill(os.getpid(), 9)


# 唱歌任务
def sing():
    # 获取当前进程的编号
    print("sing:", os.getpid())
    # 获取当前进程
    print("sing:", multiprocessing.current_process())
    for i in range(5):
        print("唱歌中...")
        time.sleep(0.2)


if __name__ == '__main__':

    # 获取当前进程的编号
    print("main:", os.getpid())
    # 获取当前进程
    print("main:", multiprocessing.current_process())
    # 创建跳舞的子进程
    # group: 表示进程组，目前只能使用None
    # target: 表示执行的目标任务名(函数名、方法名)
    # name: 进程名称, 默认是Process-1, .....
    dance_process = multiprocessing.Process(target=dance, name="myprocess1")
    sing_process = multiprocessing.Process(target=sing)

    # 启动子进程执行对应的任务
    dance_process.start()
    sing_process.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">main: 70763
main: &lt;_MainProcess(MainProcess, started)&gt;
dance: 70768
dance: &lt;Process(myprocess1, started)&gt;
跳舞中...
sing: 70769
sing: &lt;Process(Process-2, started)&gt;
唱歌中...
唱歌中...
唱歌中...
唱歌中...
唱歌中...</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_5_3_获取当前父进程编号">2.5.3. 获取当前父进程编号</h5>
<div class="paragraph">
<p><strong>os.getppid()</strong> 表示获取当前父进程编号</p>
</div>
<div class="paragraph">
<p><strong>示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time
import os


# 跳舞任务
def dance():
    # 获取当前进程的编号
    print("dance:", os.getpid())
    # 获取当前进程
    print("dance:", multiprocessing.current_process())
    # 获取父进程的编号
    print("dance的父进程编号:", os.getppid())
    for i in range(5):
        print("跳舞中...")
        time.sleep(0.2)
        # 扩展:根据进程编号杀死指定进程
        os.kill(os.getpid(), 9)


# 唱歌任务
def sing():
    # 获取当前进程的编号
    print("sing:", os.getpid())
    # 获取当前进程
    print("sing:", multiprocessing.current_process())
    # 获取父进程的编号
    print("sing的父进程编号:", os.getppid())
    for i in range(5):
        print("唱歌中...")
        time.sleep(0.2)


if __name__ == '__main__':

    # 获取当前进程的编号
    print("main:", os.getpid())
    # 获取当前进程
    print("main:", multiprocessing.current_process())
    # 创建跳舞的子进程
    # group: 表示进程组，目前只能使用None
    # target: 表示执行的目标任务名(函数名、方法名)
    # name: 进程名称, 默认是Process-1, .....
    dance_process = multiprocessing.Process(target=dance, name="myprocess1")
    sing_process = multiprocessing.Process(target=sing)

    # 启动子进程执行对应的任务
    dance_process.start()
    sing_process.start()
main: 70860
main: &lt;_MainProcess(MainProcess, started)&gt;
dance: 70861
dance: &lt;Process(myprocess1, started)&gt;
dance的父进程编号: 70860
跳舞中...
sing: 70862
sing: &lt;Process(Process-2, started)&gt;
sing的父进程编号: 70860
唱歌中...
唱歌中...
唱歌中...
唱歌中...
唱歌中...</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_5_4_小结">2.5.4. 小结</h5>
<div class="ulist">
<ul>
<li>
<p>获取当前进程编号</p>
<div class="ulist">
<ul>
<li>
<p>os.getpid()</p>
</li>
</ul>
</div>
</li>
<li>
<p>获取当前父进程编号</p>
<div class="ulist">
<ul>
<li>
<p>os.getppid()</p>
</li>
</ul>
</div>
</li>
<li>
<p>获取进程编号可以查看父子进程的关系</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_6_进程执行带有参数的任务">2.6 进程执行带有参数的任务</h4>
<div class="sect4">
<h5 id="_2_6_1_进程执行带有参数的任务的介绍">2.6.1. 进程执行带有参数的任务的介绍</h5>
<div class="paragraph">
<p>前面我们使用进程执行的任务是没有参数的，假如我们使用进程执行的任务带有参数，如何给函数传参呢?</p>
</div>
<div class="paragraph">
<p>Process类执行任务并给任务传参数有两种方式:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>args 表示以元组的方式给执行任务传参</p>
</li>
<li>
<p>kwargs 表示以字典方式给执行任务传参</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_6_2_args参数的使用">2.6.2. args参数的使用</h5>
<div class="paragraph">
<p><strong>示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time


# 带有参数的任务
def task(count):
    for i in range(count):
        print("任务执行中..")
        time.sleep(0.2)
    else:
        print("任务执行完成")


if __name__ == '__main__':
    # 创建子进程
    # args: 以元组的方式给任务传入参数
    sub_process = multiprocessing.Process(target=task, args=(5,))
    sub_process.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">任务执行中..
任务执行中..
任务执行中..
任务执行中..
任务执行中..
任务执行完成</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_6_3_kwargs参数的使用">2.6.3. kwargs参数的使用</h5>
<div class="paragraph">
<p><strong>示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time


# 带有参数的任务
def task(count):
    for i in range(count):
        print("任务执行中..")
        time.sleep(0.2)
    else:
        print("任务执行完成")


if __name__ == '__main__':
    # 创建子进程

    # kwargs: 表示以字典方式传入参数
    sub_process = multiprocessing.Process(target=task, kwargs={"count": 3})
    sub_process.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">任务执行中..
任务执行中..
任务执行中..
任务执行完成</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_6_4_小结">2.6.4. 小结</h5>
<div class="ulist">
<ul>
<li>
<p>进程执行任务并传参有两种方式:</p>
<div class="ulist">
<ul>
<li>
<p><strong>元组方式传参(args)</strong>: 元组方式传参一定要和参数的顺序保持一致。</p>
</li>
<li>
<p><strong>字典方式传参(kwargs)</strong>:
字典方式传参字典中的key一定要和参数名保持一致。</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_7_进程的注意事项">2.7 进程的注意事项</h4>
<div class="sect4">
<h5 id="_2_7_1_进程的注意点介绍">2.7.1. 进程的注意点介绍</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>进程之间不共享全局变量</p>
</li>
<li>
<p>主进程会等待所有的子进程执行结束再结束</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_2_7_2_进程之间不共享全局变量">2.7.2. 进程之间不共享全局变量</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time

# 定义全局变量
g_list = list()


# 添加数据的任务
def add_data():
    for i in range(5):
        g_list.append(i)
        print("add:", i)
        time.sleep(0.2)

    # 代码执行到此，说明数据添加完成
    print("add_data:", g_list)


def read_data():
    print("read_data", g_list)


if __name__ == '__main__':
    # 创建添加数据的子进程
    add_data_process = multiprocessing.Process(target=add_data)
    # 创建读取数据的子进程
    read_data_process = multiprocessing.Process(target=read_data)

    # 启动子进程执行对应的任务
    add_data_process.start()
    # 主进程等待添加数据的子进程执行完成以后程序再继续往下执行，读取数据
    add_data_process.join()
    read_data_process.start()

    print("main:", g_list)

    # 总结: 多进程之间不共享全局变量</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">add: 0
add: 1
add: 2
add: 3
add: 4
add_data: [0, 1, 2, 3, 4]
main: []
read_data []</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>进程之间不共享全局变量的解释效果图:</strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_2_7_3_进程之间不共享全局变量的小结">2.7.3. 进程之间不共享全局变量的小结</h5>
<div class="ulist">
<ul>
<li>
<p>创建子进程会对主进程资源进行拷贝，也就是说子进程是主进程的一个副本，好比是一对双胞胎，之所以进程之间不共享全局变量，是因为操作的不是同一个进程里面的全局变量，只不过不同进程里面的全局变量名字相同而已。</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_7_4_主进程会等待所有的子进程执行结束再结束">2.7.4. 主进程会等待所有的子进程执行结束再结束</h5>
<div class="paragraph">
<p>假如我们现在创建一个子进程，这个子进程执行完大概需要2秒钟，现在让主进程执行0.5秒钟就退出程序，查看一下执行结果，示例代码如下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time


# 定义进程所需要执行的任务
def task():
    for i in range(10):
        print("任务执行中...")
        time.sleep(0.2)

if __name__ == '__main__':
    # 创建子进程
    sub_process = multiprocessing.Process(target=task)
    sub_process.start()

    # 主进程延时0.5秒钟
    time.sleep(0.5)
    print("over")
    exit()

    # 总结： 主进程会等待所有的子进程执行完成以后程序再退出</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">任务执行中...
任务执行中...
任务执行中...
over
任务执行中...
任务执行中...
任务执行中...
任务执行中...
任务执行中...
任务执行中...
任务执行中...</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>说明:</strong></p>
</div>
<div class="paragraph">
<p>通过上面代码的执行结果，我们可以得知:
<strong>主进程会等待所有的子进程执行结束再结束</strong></p>
</div>
<div class="paragraph">
<p>假如我们就让主进程执行0.5秒钟，子进程就销毁不再执行，那怎么办呢?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>我们可以设置<strong>守护主进程</strong> 或者 在主进程退出之前 <strong>让子进程销毁</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>守护主进程:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>守护主进程就是主进程退出子进程销毁不再执行</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>子进程销毁:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>子进程执行结束</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>保证主进程正常退出的示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import multiprocessing
import time


# 定义进程所需要执行的任务
def task():
    for i in range(10):
        print("任务执行中...")
        time.sleep(0.2)

if __name__ == '__main__':
    # 创建子进程
    sub_process = multiprocessing.Process(target=task)
    # 设置守护主进程，主进程退出子进程直接销毁，子进程的生命周期依赖与主进程
    # sub_process.daemon = True
    sub_process.start()

    time.sleep(0.5)
    print("over")
    # 让子进程销毁
    sub_process.terminate()
    exit()

    # 总结： 主进程会等待所有的子进程执行完成以后程序再退出
    # 如果想要主进程退出子进程销毁，可以设置守护主进程或者在主进程退出之前让子进程销毁</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">任务执行中...
任务执行中...
任务执行中...
over</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_7_5_主进程会等待所有的子进程执行结束再结束的小结">2.7.5. 主进程会等待所有的子进程执行结束再结束的小结</h5>
<div class="ulist">
<ul>
<li>
<p>为了保证子进程能够正常的运行，主进程会等所有的子进程执行完成以后再销毁，设置守护主进程的目的是<strong>主进程退出子进程销毁，不让主进程再等待子进程去执行</strong>。</p>
</li>
<li>
<p>设置守护主进程方式： <strong>子进程对象.daemon = True</strong></p>
</li>
<li>
<p>销毁子进程方式： <strong>子进程对象.terminate()</strong></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_线程">3.线程</h3>
<div class="sect3">
<h4 id="_3_1_线程的介绍">3.1 线程的介绍</h4>
<div class="paragraph">
<p>在Python中，想要实现多任务除了使用进程，还可以使用线程来完成，线程是实现多任务的另外一种方式。</p>
</div>
</div>
<div class="sect3">
<h4 id="_3_2_线程的概念">3.2 线程的概念</h4>
<div class="paragraph">
<p>线程是进程中执行代码的一个分支，每个执行分支（线程）要想工作执行代码需要cpu进行调度
，也就是说线程是cpu调度的基本单位，每个进程至少都有一个线程，而这个线程就是我们通常说的主线程。</p>
</div>
</div>
<div class="sect3">
<h4 id="_3_3_线程的作用">3.3 线程的作用</h4>
<div class="paragraph">
<p>多线程可以完成多任务</p>
</div>
<div class="paragraph">
<p><strong>多线程效果图:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>线程是Python程序中实现多任务的另外一种方式，线程的执行需要cpu调度来完成。</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_3_4_python中多线程的使用">3.4 Python中多线程的使用</h4>
<div class="sect4">
<h5 id="_3_4_1_导入线程模块">3.4.1. 导入线程模块</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">#导入线程模块
import threading</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_4_2_线程类thread参数说明">3.4.2. 线程类Thread参数说明</h5>
<div class="paragraph">
<p>Thread([group [, target [, name [, args [, kwargs]]]]])</p>
</div>
<div class="ulist">
<ul>
<li>
<p>group: 线程组，目前只能使用None</p>
</li>
<li>
<p>target: 执行的目标任务名</p>
</li>
<li>
<p>args: 以元组的方式给执行任务传参</p>
</li>
<li>
<p>kwargs: 以字典方式给执行任务传参</p>
</li>
<li>
<p>name: 线程名，一般不用设置</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_4_3_启动线程">3.4.3. 启动线程</h5>
<div class="paragraph">
<p>启动线程使用start方法</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_4_4_多线程完成多任务的代码">3.4.4. 多线程完成多任务的代码</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time

# 唱歌任务
def sing():
    # 扩展： 获取当前线程
    # print("sing当前执行的线程为：", threading.current_thread())
    for i in range(3):
        print("正在唱歌...%d" % i)
        time.sleep(1)

# 跳舞任务
def dance():
    # 扩展： 获取当前线程
    # print("dance当前执行的线程为：", threading.current_thread())
    for i in range(3):
        print("正在跳舞...%d" % i)
        time.sleep(1)


if __name__ == '__main__':
    # 扩展： 获取当前线程
    # print("当前执行的线程为：", threading.current_thread())
    # 创建唱歌的线程
    # target： 线程执行的函数名
    sing_thread = threading.Thread(target=sing)

    # 创建跳舞的线程
    dance_thread = threading.Thread(target=dance)

    # 开启线程
    sing_thread.start()
    dance_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">正在唱歌...0
正在跳舞...0
正在唱歌...1
正在跳舞...1
正在唱歌...2
正在跳舞...2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_4_5_小结">3.4.5. 小结</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>导入线程模块</p>
<div class="ulist">
<ul>
<li>
<p>import threading</p>
</li>
</ul>
</div>
</li>
<li>
<p>创建子线程并指定执行的任务</p>
<div class="ulist">
<ul>
<li>
<p>sub_thread = threading.Thread(target=任务名)</p>
</li>
</ul>
</div>
</li>
<li>
<p>启动线程执行任务</p>
<div class="ulist">
<ul>
<li>
<p>sub_thread.start()</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_5_多线程执行带有参数的任务">3.5 多线程执行带有参数的任务</h4>
<div class="sect4">
<h5 id="_3_5_1_线程执行带有参数的任务的介绍">3.5.1. 线程执行带有参数的任务的介绍</h5>
<div class="paragraph">
<p>前面我们使用线程执行的任务是没有参数的，假如我们使用线程执行的任务带有参数，如何给函数传参呢?</p>
</div>
<div class="paragraph">
<p>Thread类执行任务并给任务传参数有两种方式:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>args 表示以元组的方式给执行任务传参</p>
</li>
<li>
<p>kwargs 表示以字典方式给执行任务传参</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_5_2_args参数的使用">3.5.2. args参数的使用</h5>
<div class="paragraph">
<p><strong>示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time


# 带有参数的任务
def task(count):
    for i in range(count):
        print("任务执行中..")
        time.sleep(0.2)
    else:
        print("任务执行完成")


if __name__ == '__main__':
    # 创建子线程
    # args: 以元组的方式给任务传入参数
    sub_thread = threading.Thread(target=task, args=(5,))
    sub_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">任务执行中..
任务执行中..
任务执行中..
任务执行中..
任务执行中..
任务执行完成</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_5_3_kwargs参数的使用">3.5.3. kwargs参数的使用</h5>
<div class="paragraph">
<p><strong>示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time


# 带有参数的任务
def task(count):
    for i in range(count):
        print("任务执行中..")
        time.sleep(0.2)
    else:
        print("任务执行完成")


if __name__ == '__main__':
    # 创建子线程
    # kwargs: 表示以字典方式传入参数
    sub_thread = threading.Thread(target=task, kwargs={"count": 3})
    sub_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">任务执行中..
任务执行中..
任务执行中..
任务执行完成</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_5_4_小结">3.5.4. 小结</h5>
<div class="ulist">
<ul>
<li>
<p>线程执行任务并传参有两种方式:</p>
<div class="ulist">
<ul>
<li>
<p><strong>元组方式传参(args)</strong> ：元组方式传参一定要和参数的顺序保持一致。</p>
</li>
<li>
<p><strong>字典方式传参(kwargs)</strong>：字典方式传参字典中的key一定要和参数名保持一致。</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_6_线程的注意点">3.6 线程的注意点</h4>
<hr>
<div class="sect4">
<h5 id="_3_6_1_线程的注意点介绍">3.6.1. 线程的注意点介绍</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>线程之间执行是无序的</p>
</li>
<li>
<p>主线程会等待所有的子线程执行结束再结束</p>
</li>
<li>
<p>线程之间共享全局变量</p>
</li>
<li>
<p>线程之间共享全局变量数据出现错误问题</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_3_6_2_线程之间执行是无序的">3.6.2. 线程之间执行是无序的</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time


def task():
    time.sleep(1)
    print("当前线程:", threading.current_thread().name)


if __name__ == '__main__':

   for _ in range(5):
       sub_thread = threading.Thread(target=task)
       sub_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">当前线程: Thread-1
当前线程: Thread-2
当前线程: Thread-4
当前线程: Thread-5
当前线程: Thread-3</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>说明:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>线程之间执行是无序的，它是由cpu调度决定的
，cpu调度哪个线程，哪个线程就先执行，没有调度的线程不能执行。</p>
</li>
<li>
<p>进程之间执行也是无序的，它是由操作系统调度决定的，操作系统调度哪个进程，哪个进程就先执行，没有调度的进程不能执行。</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_6_3_主线程会等待所有的子线程执行结束再结束">3.6.3. 主线程会等待所有的子线程执行结束再结束</h5>
<div class="paragraph">
<p>假如我们现在创建一个子线程，这个子线程执行完大概需要2.5秒钟，现在让主线程执行1秒钟就退出程序，查看一下执行结果，示例代码如下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time


# 测试主线程是否会等待子线程执行完成以后程序再退出
def show_info():
    for i in range(5):
        print("test:", i)
        time.sleep(0.5)


if __name__ == '__main__':
    sub_thread = threading.Thread(target=show_info)
    sub_thread.start()

    # 主线程延时1秒
    time.sleep(1)
    print("over")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">test: 0
test: 1
over
test: 2
test: 3
test: 4</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>说明:</strong></p>
</div>
<div class="paragraph">
<p>通过上面代码的执行结果，我们可以得知:
<strong>主线程会等待所有的子线程执行结束再结束</strong></p>
</div>
<div class="paragraph">
<p>假如我们就让主线程执行1秒钟，子线程就销毁不再执行，那怎么办呢?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>我们可以设置<strong>守护主线程</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>守护主线程:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>守护主线程就是主线程退出子线程销毁不再执行</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>设置守护主线程有两种方式：</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>threading.Thread(target=show_info, daemon=True)</p>
</li>
<li>
<p>线程对象.setDaemon(True)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>设置守护主线程的示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time


# 测试主线程是否会等待子线程执行完成以后程序再退出
def show_info():
    for i in range(5):
        print("test:", i)
        time.sleep(0.5)


if __name__ == '__main__':
    # 创建子线程守护主线程
    # daemon=True 守护主线程
    # 守护主线程方式1
    sub_thread = threading.Thread(target=show_info, daemon=True)
    # 设置成为守护主线程，主线程退出后子线程直接销毁不再执行子线程的代码
    # 守护主线程方式2
    # sub_thread.setDaemon(True)
    sub_thread.start()

    # 主线程延时1秒
    time.sleep(1)
    print("over")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">test: 0
test: 1
over</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_6_4_线程之间共享全局变量">3.6.4. 线程之间共享全局变量</h5>
<div class="paragraph">
<p><strong>需求:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>定义一个列表类型的全局变量</p>
</li>
<li>
<p>创建两个子线程分别执行向全局变量添加数据的任务和向全局变量读取数据的任务</p>
</li>
<li>
<p>查看线程之间是否共享全局变量数据</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time


# 定义全局变量
my_list = list()

# 写入数据任务
def write_data():
    for i in range(5):
        my_list.append(i)
        time.sleep(0.1)
    print("write_data:", my_list)


# 读取数据任务
def read_data():
    print("read_data:", my_list)


if __name__ == '__main__':
    # 创建写入数据的线程
    write_thread = threading.Thread(target=write_data)
    # 创建读取数据的线程
    read_thread = threading.Thread(target=read_data)

    write_thread.start()
    # 延时
    # time.sleep(1)
    # 主线程等待写入线程执行完成以后代码在继续往下执行
    write_thread.join()
    print("开始读取数据啦")
    read_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">write_data: [0, 1, 2, 3, 4]
开始读取数据啦
read_data: [0, 1, 2, 3, 4]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_6_5_线程之间共享全局变量数据出现错误问题">3.6.5. 线程之间共享全局变量数据出现错误问题</h5>
<div class="paragraph">
<p><strong>需求:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>定义两个函数，实现循环100万次，每循环一次给全局变量加1</p>
</li>
<li>
<p>创建两个子线程执行对应的两个函数，查看计算后的结果</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading

# 定义全局变量
g_num = 0


# 循环一次给全局变量加1
def sum_num1():
    for i in range(1000000):
        global g_num
        g_num += 1

    print("sum1:", g_num)


# 循环一次给全局变量加1
def sum_num2():
    for i in range(1000000):
        global g_num
        g_num += 1
    print("sum2:", g_num)


if __name__ == '__main__':
    # 创建两个线程
    first_thread = threading.Thread(target=sum_num1)
    second_thread = threading.Thread(target=sum_num2)

    # 启动线程
    first_thread.start()
    # 启动线程
    second_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">sum1: 1210949
sum2: 1496035</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>注意点:</strong></p>
</div>
<div class="paragraph">
<p><strong>多线程同时对全局变量操作数据发生了错误</strong></p>
</div>
<div class="paragraph">
<p><strong>错误分析:</strong></p>
</div>
<div class="paragraph">
<p>两个线程first_thread和second_thread都要对全局变量g_num(默认是0)进行加1运算，但是由于是多线程同时操作，有可能出现下面情况：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在g_num=0时，first_thread取得g_num=0。此时系统把first_thread调度为”sleeping”状态，把second_thread转换为”running”状态，t2也获得g_num=0</p>
</li>
<li>
<p>然后second_thread对得到的值进行加1并赋给g_num，使得g_num=1</p>
</li>
<li>
<p>然后系统又把second_thread调度为”sleeping”，把first_thread转为”running”。线程t1又把它之前得到的0加1后赋值给g_num。</p>
</li>
<li>
<p>这样导致虽然first_thread和first_thread都对g_num加1，但结果仍然是g_num=1</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>全局变量数据错误的解决办法:</strong></p>
</div>
<div class="paragraph">
<p>线程同步: 保证同一时刻只能有一个线程去操作全局变量 同步:
就是协同步调，按预定的先后次序进行运行。如:你说完，我再说,
好比现实生活中的对讲机</p>
</div>
<div class="paragraph">
<p>线程同步的方式:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>线程等待(join)</strong></p>
</li>
<li>
<p><strong>互斥锁</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>线程等待的示例代码:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading

# 定义全局变量
g_num = 0


# 循环1000000次每次给全局变量加1
def sum_num1():
    for i in range(1000000):
        global g_num
        g_num += 1

    print("sum1:", g_num)


# 循环1000000次每次给全局变量加1
def sum_num2():
    for i in range(1000000):
        global g_num
        g_num += 1
    print("sum2:", g_num)


if __name__ == '__main__':
    # 创建两个线程
    first_thread = threading.Thread(target=sum_num1)
    second_thread = threading.Thread(target=sum_num2)

    # 启动线程
    first_thread.start()
    # 主线程等待第一个线程执行完成以后代码再继续执行，让其执行第二个线程
    # 线程同步： 一个任务执行完成以后另外一个任务才能执行，同一个时刻只有一个任务在执行
    first_thread.join()
    # 启动线程
    second_thread.start()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">sum1: 1000000
sum2: 2000000</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_6_6_小结">3.6.6. 小结</h5>
<div class="ulist">
<ul>
<li>
<p>线程执行执行是无序的</p>
</li>
<li>
<p>主线程默认会等待所有子线程执行结束再结束，设置守护主线程的目的是主线程退出子线程销毁。</p>
</li>
<li>
<p>线程之间共享全局变量，好处是可以对全局变量的数据进行共享。</p>
</li>
<li>
<p>线程之间共享全局变量可能会导致数据出现错误问题，可以使用线程同步方式来解决这个问题。</p>
<div class="ulist">
<ul>
<li>
<p>线程等待(join)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_互斥锁">4.互斥锁</h3>
<div class="sect3">
<h4 id="_4_1_互斥锁的概念">4.1.互斥锁的概念</h4>
<div class="paragraph">
<p>互斥锁: 对共享数据进行锁定，保证同一时刻只能有一个线程去操作。</p>
</div>
<div class="paragraph">
<p>注意:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>互斥锁是<strong>多个线程一起去抢</strong>，抢到锁的线程先执行，没有抢到锁的线程需要等待，等互斥锁使用完释放后，其它等待的线程再去抢这个锁。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>为了更好的理解互斥锁，请看下面的图:</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_4_2_互斥锁的使用">4.2. 互斥锁的使用</h4>
<div class="paragraph">
<p>threading模块中定义了Lock变量，这个变量本质上是一个函数，通过调用这个函数可以获取一把互斥锁。</p>
</div>
<div class="paragraph">
<p><strong>互斥锁使用步骤:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># 创建锁
mutex = threading.Lock()

# 上锁
mutex.acquire()

...这里编写代码能保证同一时刻只能有一个线程去操作, 对共享数据进行锁定...

# 释放锁
mutex.release()</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>注意点:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>acquire和release方法之间的代码同一时刻只能有一个线程去操作</strong></p>
</li>
<li>
<p><strong>如果在调用acquire方法的时候
其他线程已经使用了这个互斥锁，那么此时acquire方法会堵塞，直到这个互斥锁释放后才能再次上锁。</strong></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_4_3_使用互斥锁完成2个线程对同一个全局变量各加100万次的操作">4.3. 使用互斥锁完成2个线程对同一个全局变量各加100万次的操作</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading


# 定义全局变量
g_num = 0

# 创建全局互斥锁
lock = threading.Lock()


# 循环一次给全局变量加1
def sum_num1():
    # 上锁
    lock.acquire()
    for i in range(1000000):
        global g_num
        g_num += 1

    print("sum1:", g_num)
    # 释放锁
    lock.release()


# 循环一次给全局变量加1
def sum_num2():
    # 上锁
    lock.acquire()
    for i in range(1000000):
        global g_num
        g_num += 1
    print("sum2:", g_num)
    # 释放锁
    lock.release()


if __name__ == '__main__':
    # 创建两个线程
    first_thread = threading.Thread(target=sum_num1)
    second_thread = threading.Thread(target=sum_num2)
    # 启动线程
    first_thread.start()
    second_thread.start()

    # 提示：加上互斥锁，那个线程抢到这个锁我们决定不了，那线程抢到锁那个线程先执行，没有抢到的线程需要等待
    # 加上互斥锁多任务瞬间变成单任务，性能会下降，也就是说同一时刻只能有一个线程去执行</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>执行结果:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-py" data-lang="py">sum1: 1000000
sum2: 2000000</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>说明:</strong></p>
</div>
<div class="paragraph">
<p>通过执行结果可以地址<strong>互斥锁能够保证多个线程访问共享数据不会出现数据错误问题</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_4_4_小结">4.4. 小结</h4>
<div class="ulist">
<ul>
<li>
<p>互斥锁的作用就是保证同一时刻只能有一个线程去操作共享数据，保证共享数据不会出现错误问题</p>
</li>
<li>
<p>使用互斥锁的好处确保某段关键代码只能由一个线程从头到尾完整地去执行</p>
</li>
<li>
<p>使用互斥锁会影响代码的执行效率，多任务改成了单任务执行</p>
</li>
<li>
<p>互斥锁如果没有使用好容易出现死锁的情况</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_5_死锁">5.死锁</h3>
<div class="sect3">
<h4 id="_5_1_死锁的概念">5.1. 死锁的概念</h4>
<div class="paragraph">
<p>死锁: 一直等待对方释放锁的情景就是死锁</p>
</div>
<div class="paragraph">
<p>为了更好的理解死锁，来看一个现实生活的效果图:</p>
</div>
<div class="paragraph">
<p><strong>说明:</strong></p>
</div>
<div class="paragraph">
<p>现实社会中，男女双方一直等待对方先道歉的这种行为就好比是死锁。</p>
</div>
<div class="paragraph">
<p><strong>死锁的结果</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>会造成应用程序的停止响应，不能再处理其它任务了。</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_5_2_死锁示例">5.2. 死锁示例</h4>
<div class="paragraph">
<p><strong>需求:</strong></p>
</div>
<div class="paragraph">
<p>根据下标在列表中取值, 保证同一时刻只能有一个线程去取值</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time

# 创建互斥锁
lock = threading.Lock()


# 根据下标去取值， 保证同一时刻只能有一个线程去取值
def get_value(index):

    # 上锁
    lock.acquire()
    print(threading.current_thread())
    my_list = [3,6,8,1]
    # 判断下标释放越界
    if index &gt;= len(my_list):
        print("下标越界:", index)
        return
    value = my_list[index]
    print(value)
    time.sleep(0.2)
    # 释放锁
    lock.release()


if __name__ == '__main__':
    # 模拟大量线程去执行取值操作
    for i in range(30):
        sub_thread = threading.Thread(target=get_value, args=(i,))
        sub_thread.start()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_3_避免死锁">5.3. 避免死锁</h4>
<div class="ulist">
<ul>
<li>
<p>在合适的地方释放锁</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import threading
import time

# 创建互斥锁
lock = threading.Lock()


# 根据下标去取值， 保证同一时刻只能有一个线程去取值
def get_value(index):

    # 上锁
    lock.acquire()
    print(threading.current_thread())
    my_list = [3,6,8,1]
    if index &gt;= len(my_list):
        print("下标越界:", index)
        # 当下标越界需要释放锁，让后面的线程还可以取值
        lock.release()
        return
    value = my_list[index]
    print(value)
    time.sleep(0.2)
    # 释放锁
    lock.release()


if __name__ == '__main__':
    # 模拟大量线程去执行取值操作
    for i in range(30):
        sub_thread = threading.Thread(target=get_value, args=(i,))
        sub_thread.start()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_4_小结">5.4. 小结</h4>
<div class="ulist">
<ul>
<li>
<p>使用互斥锁的时候需要注意死锁的问题，要在合适的地方注意释放锁。</p>
</li>
<li>
<p>死锁一旦产生就会造成应用程序的停止响应，应用程序无法再继续往下执行了。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_6_进程和线程的对比">6.进程和线程的对比</h3>
<div class="sect3">
<h4 id="_6_1_进程和线程的对比的三个方向">6.1. 进程和线程的对比的三个方向</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>关系对比</p>
</li>
<li>
<p>区别对比</p>
</li>
<li>
<p>优缺点对比</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_6_2_关系对比">6.2. 关系对比</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>线程是依附在进程里面的，没有进程就没有线程。</p>
</li>
<li>
<p>一个进程默认提供一条线程，进程可以创建多个线程。</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_6_3_区别对比">6.3. 区别对比</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>进程之间不共享全局变量</p>
</li>
<li>
<p>线程之间共享全局变量，但是要注意资源竞争的问题，解决办法:
互斥锁或者线程同步</p>
</li>
<li>
<p>创建进程的资源开销要比创建线程的资源开销要大</p>
</li>
<li>
<p>进程是操作系统资源分配的基本单位，线程是CPU调度的基本单位</p>
</li>
<li>
<p>线程不能够独立执行，必须依存在进程中</p>
</li>
<li>
<p>多进程开发比单进程多线程开发稳定性要强</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_6_4_优缺点对比">6.4. 优缺点对比</h4>
<div class="ulist">
<ul>
<li>
<p>进程优缺点:</p>
<div class="ulist">
<ul>
<li>
<p>优点：可以用多核</p>
</li>
<li>
<p>缺点：资源开销大</p>
</li>
<li>
<p>跟计算密切相关的我们可以使用多进程，来充分利用多核，提高计算能力（大数据等）</p>
</li>
</ul>
</div>
</li>
<li>
<p>线程优缺点:</p>
<div class="ulist">
<ul>
<li>
<p>优点：资源开销小</p>
</li>
<li>
<p>缺点：不能使用多核</p>
</li>
<li>
<p>文件写入，文件下载，文件复制等我们可以使用多线程，一般的操作我们都使用多线程，除非是和计算相关的,因为节省资源，也可以实现多任务，还可以共享全局变量</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_6_5_小结">6.5. 小结</h4>
<div class="ulist">
<ul>
<li>
<p>进程和线程都是完成多任务的一种方式</p>
</li>
<li>
<p>多进程要比多线程消耗的资源多，但是多进程开发比单进程多线程开发稳定性要强，某个进程挂掉不会影响其它进程。</p>
</li>
<li>
<p>多进程可以使用cpu的多核运行，多线程可以共享全局变量。</p>
</li>
<li>
<p>线程不能单独执行必须依附在进程里面</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>